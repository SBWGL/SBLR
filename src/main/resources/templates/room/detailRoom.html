<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/default"> <head>
  <head>
    <title>Roxandrea - Free Bootstrap 4 Template by Colorlib</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i" rel="stylesheet">

    <link rel="stylesheet" href="/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="/css/animate.css">
    
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="/css/magnific-popup.css">

    <link rel="stylesheet" href="/css/aos.css">

    <link rel="stylesheet" href="/css/ionicons.min.css">

    <link rel="stylesheet" href="/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/icomoon.css">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>

  <header th:replace="/fragments/header :: headerFragment"></header>
    <!-- END nav -->
		<div class="hero-wrap" style="background-image: url('/images/bg_1.jpg');">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text d-flex align-itemd-end justify-content-center">
          <div class="col-md-9 ftco-animate text-center d-flex align-items-end justify-content-center">
          	<div class="text">
	            <p class="breadcrumbs mb-2"><span class="mr-2"><a href="index.html">Home</a></span> <span>Rooms</span> <span class="mr-2"><a th:href="@{|/rooms/detailRoom/${room.id}/updateForm|}">updateRoom</a></span></p>
	            <h1 class="mb-4 bread">Room</h1>
            </div>
          </div>
        </div>
      </div>
    </div>

		<section class="ftco-section">
      <div class="container">
        <div class="row">
          <div class="col-lg-8">
          	<div class="row">
                <div class="col-md-12 room-single mt-4 mb-5 ftco-animate">
                    <h2 th:text="${room.roomName}" class="mb-4"></h2>
                </div>
          		<div class="col-md-12 room-single ftco-animate mb-5 mt-4">
                    <img th:src="|/getImages/${room.getStoreImageName()}|" class="img" width="700px" height="600px"/>
          		</div>
          		<div class="col-md-12 room-single mt-4 mb-5 ftco-animate">
          			<h2 class="mb-4" th:text="|${room.roomType} (Available rooms)|">Luxury Room <span>- (Available rooms)</span></h2>
    						<p th:text="${room.roomDesc}">When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, then she continued her way.</p>
    						<div class="d-md-flex mt-5 mb-5">
    							<ul class="list">
	    							<li th:text="|Max: ${room.maxPerson} Persons|"><span>Max:</span> 3 Persons</li>
	    							<li><span>Size:</span> 45 m2</li>
	    						</ul>
	    						<ul class="list ml-md-5">
	    							<li><span>View:</span> Sea View</li>
	    							<li><span>Bed:</span> 2</li>
	    						</ul>

    						</div>
<!--    						<p>Italic Mountains의 첫 번째 언덕에 도착했을 때 그녀는 고향 Bookmarksgrove의 스카이라인, Alphabet Village의 헤드라인이자 자신의 길인 Line Lane의 하위 라인을 마지막으로 보았습니다. 가엾은 질문이 그녀의 뺨을 스쳐지나갔고 그녀는 계속해서 Italic Mountains의 첫 번째 언덕에 도착했을 때 그녀의 고향인 Bookmarksgrove의 스카이라인, Alphabet Village의 헤드라인이자 그녀 자신의 길의 하위 라인을 마지막으로 다시 보았습니다. 라인 레인. 가엾은 질문이 그녀의 뺨을 스쳐지나갔고, 그녀는 계속해서 길을 갔습니다.</p>-->
                    <h2 class="pt-2"><a class="btn-custom px-8 py-3" type="button" th:href="@{|/rooms/detailRoom/${room.id}/payForm|}">결제하기 <span class="icon-long-arrow-right"></span></a></h2>
          		</div>

<!--          		<div class="col-md-12 room-single ftco-animate mb-5 mt-4">-->
<!--          			<h3 class="mb-4">Take A Tour</h3>-->
<!--          			<div class="block-16">-->
<!--		              <figure>-->
<!--		                <img src="images/room-4.jpg" alt="Image placeholder" class="img-fluid">-->
<!--		                <a href="https://vimeo.com/45830194" class="play-button popup-vimeo"><span class="icon-play"></span></a>-->
<!--		              </figure>-->
<!--		            </div>-->
<!--          		</div>-->

          		<div class="col-md-12 room-single ftco-animate mb-5 mt-4">
                            <form>
                                <div class="container px-4 px-lg-5 my-5">
                                    <h2 class="fw-bolder mb-4">Review Register</h2>
                                    <input type="hidden" id="reviewProductId"/>
                                    <div class="card-body">
                                        <textarea rows="1" class="form-control" id="review-contents"></textarea><br>
                                        <button type="button" class="btn btn-primary" id="btn-review-save">등록</button>
                                    </div>
                                </div>
                            </form>
                            <div class="container px-4 px-lg-5 my-5">
                                <h2 class="fw-bolder mb-4">Review List</h2>
                                <ul class="container px-4 px-lg-5 my-5" id="review-box">
                                    <div th:each="review : ${room.review}">
                                        <li class="list-group-item d-flex justify-content-between" id="reply-${reply.id}">
                                            <div th:text="|${review.id} : ${review.contents}"|> </div>
                                            <div class="d-flex">
                                                <div class="font-italic" th:text="${#strings.substring(#strings.toString(review.creteDate),0,16)}"></div>
                                                <div th:if="${user.id == review.user.id}">
                                                    <button class="btn btn-sm btn-danger" th:onclick="|location.href='@{|/rooms/detailRoom/${room.id}/review/${review.id}|}'|" type="button">삭제</button>
                                                </div>
                                            </div>
                                        </li>
                                    </div>
                                </ul>
                            </div>
          		</div>
          	</div>
          </div> <!-- .col-md-8 -->
          <div class="col-lg-4 sidebar ftco-animate">
            <div class="sidebar-box">
              <form action="#" class="search-form">
                <div class="form-group">
                  <span class="icon ion-ios-search"></span>
                  <input type="text" class="form-control" placeholder="Search...">
                </div>
              </form>
            </div>
            <div class="sidebar-box ftco-animate">
              <div class="categories">
                <h3>Categories</h3>
                <li><a href="#">Family Room <span>(12)</span></a></li>
                <li><a href="#">Classic Room <span>(22)</span></a></li>
                <li><a href="#">Luxury Room <span>(37)</span></a></li>
                <li><a href="#">Deluxe Room <span>(42)</span></a></li>
                <li><a href="#">Superior Room <span>(14)</span></a></li>
              </div>
            </div>



            <div class="sidebar-box ftco-animate">
              <h3>Recent Blog</h3>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(/images/image_1.jpg);"></a>
                <div class="text">
                  <h3 class="heading"><a href="#">Even the all-powerful Pointing has no control about the blind texts</a></h3>
                  <div class="meta">
                    <div><a href="#"><span class="icon-calendar"></span> July 04, 2019</a></div>
                    <div><a href="#"><span class="icon-person"></span> Admin</a></div>
                    <div><a href="#"><span class="icon-chat"></span> 19</a></div>
                  </div>
                </div>
              </div>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(/images/image_2.jpg);"></a>
                <div class="text">
                  <h3 class="heading"><a href="#">Even the all-powerful Pointing has no control about the blind texts</a></h3>
                  <div class="meta">
                    <div><a href="#"><span class="icon-calendar"></span> July 04, 2019</a></div>
                    <div><a href="#"><span class="icon-person"></span> Admin</a></div>
                    <div><a href="#"><span class="icon-chat"></span> 19</a></div>
                  </div>
                </div>
              </div>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(/images/image_3.jpg);"></a>
                <div class="text">
                  <h3 class="heading"><a href="#">Even the all-powerful Pointing has no control about the blind texts</a></h3>
                  <div class="meta">
                    <div><a href="#"><span class="icon-calendar"></span> July 04, 2019</a></div>
                    <div><a href="#"><span class="icon-person"></span> Admin</a></div>
                    <div><a href="#"><span class="icon-chat"></span> 19</a></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="sidebar-box ftco-animate">
              <h3>Tag Cloud</h3>
              <div class="tagcloud">
                <a href="#" class="tag-cloud-link">dish</a>
                <a href="#" class="tag-cloud-link">menu</a>
                <a href="#" class="tag-cloud-link">food</a>
                <a href="#" class="tag-cloud-link">sweet</a>
                <a href="#" class="tag-cloud-link">tasty</a>
                <a href="#" class="tag-cloud-link">delicious</a>
                <a href="#" class="tag-cloud-link">desserts</a>
                <a href="#" class="tag-cloud-link">drinks</a>
              </div>
            </div>


              <div class="sidebar-box ftco-animate">
                  <h4 class="mb-4">Ratings</h4>
                  <div class="row">
                      <div class="col-md-6">
                          <form method="post" class="star-rating">
                              <div class="form-check">
                                  <input type="checkbox" class="form-check-input" id="exampleCheck5">
                                  <label class="form-check-label" for="exampleCheck1">
                                      <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i> 100 Ratings</span></p>
                                  </label>
                              </div>
                              <div class="form-check">
                                  <input type="checkbox" class="form-check-input" id="exampleCheck4">
                                  <label class="form-check-label" for="exampleCheck1">
                                      <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-o"></i> 30 Ratings</span></p>
                                  </label>
                              </div>
                              <div class="form-check">
                                  <input type="checkbox" class="form-check-input" id="exampleCheck3">
                                  <label class="form-check-label" for="exampleCheck1">
                                      <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-o"></i><i class="icon-star-o"></i> 5 Ratings</span></p>
                                  </label>
                              </div>
                              <div class="form-check">
                                  <input type="checkbox" class="form-check-input" id="exampleCheck2">
                                  <label class="form-check-label" for="exampleCheck1">
                                      <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-o"></i><i class="icon-star-o"></i><i class="icon-star-o"></i> 0 Ratings</span></p>
                                  </label>
                              </div>
                              <div class="form-check">
                                  <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                  <label class="form-check-label" for="exampleCheck1">
                                      <p class="rate"><span><i class="icon-star"></i><i class="icon-star-o"></i><i class="icon-star-o"></i><i class="icon-star-o"></i><i class="icon-star-o"></i> 0 Ratings</span></p>
                                  </label>
                              </div>
                          </form>
                      </div>
                  </div>
              </div>

<!--            <div class="sidebar-box ftco-animate">-->
<!--              <h3>Paragraph</h3>-->
<!--              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus itaque, autem necessitatibus voluptate quod mollitia delectus aut, sunt placeat nam vero culpa sapiente consectetur similique, inventore eos fugit cupiditate numquam!</p>-->
<!--            </div>-->
          </div>
        </div>
      </div>
    </section> <!-- .section -->


  <footer th:replace="/fragments/footer :: footerFragment"></footer>



  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="/js/popper.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/jquery.easing.1.3.js"></script>
  <script src="/js/jquery.waypoints.min.js"></script>
  <script src="/js/jquery.stellar.min.js"></script>
  <script src="/js/owl.carousel.min.js"></script>
  <script src="/js/jquery.magnific-popup.min.js"></script>
  <script src="/js/aos.js"></script>
  <script src="/js/jquery.animateNumber.min.js"></script>
  <script src="/js/jquery.mb.YTPlayer.min.js"></script>
  <script src="/js/bootstrap-datepicker.js"></script>
  <!-- // <script src="js/jquery.timepicker.min.js"></script> -->
  <script src="/js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="/js/google-map.js"></script>
  <script src="/js/main.js"></script>
  <script th:inline="javascript">
    $("#btn-review-save").click(function(){
        let contents=$("#review-contents").val()
        let id=/*[[${room.getId()}]]*/;
        console.log(contents);
        console.log(id);
        $.ajax({
            type:"POST",
            url:`/api/rooms/detailRoom/${id}/review`,
            data:JSON.stringify(contents),
            contentType:"application/json;charset=utf-8",
            dataType:"json"
        }).done(function(resp){
            alert("리뷰 작성이 완료 되었습니다.");
            location.href=`/rooms/detailRoom/${id}`;
        }).fail(function(error){
<!--            alert(JSON.stringify(error));-->
            alert("로그인이 필요한 서비스입니다.");
        });
    });

</script>
    
  </body>
</html>